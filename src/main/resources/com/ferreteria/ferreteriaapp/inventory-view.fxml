<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane xmlns:fx="http://javafx.com/fxml"
            fx:controller="com.ferreteria.ferreteriaapp.controller.InventoryController">

    <padding> <Insets top="10" right="10" bottom="10" left="10"/> </padding>

    <center>
        <VBox spacing="10">
            <Label text="Control de Inventario">
                <font><Font name="System Bold" size="18"/></font>
            </Label>

            <HBox spacing="10">
                <TextField fx:id="txtBuscar" promptText="Buscar por código, nombre o categoría..." HBox.hgrow="ALWAYS"/>
                <Button text="Buscar" onAction="#buscarProducto"/>
            </HBox>

            <TableView fx:id="tablaProductos" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colCodigo" text="SKU" prefWidth="80"/>
                    <TableColumn fx:id="colNombre" text="Producto" prefWidth="150"/>
                    <TableColumn fx:id="colCategoria" text="Categoría" prefWidth="100"/>
                    <TableColumn fx:id="colPrecio" text="Precio Venta" prefWidth="90"/>
                    <TableColumn fx:id="colStock" text="Stock" prefWidth="70"/>
                    <TableColumn fx:id="colProveedor" text="Proveedor" prefWidth="120"/>
                </columns>
                <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/></columnResizePolicy>
            </TableView>
        </VBox>
    </center>

    <right>
        <VBox spacing="8" prefWidth="300" style="-fx-background-color: #f4f4f4; -fx-padding: 15;">
            <Label text="Datos del Producto"><font><Font name="System Bold" size="14"/></font></Label>

            <Label text="Código (SKU):"/>
            <TextField fx:id="txtCodigo" promptText="Ej. H001"/>

            <Label text="Nombre:"/>
            <TextField fx:id="txtNombre" promptText="Ej. Martillo Clásico"/>

            <Label text="Categoría:"/>
            <ComboBox fx:id="cmbCategoria" promptText="Seleccione..." maxWidth="Infinity" editable="true"/>

            <Label text="Proveedor:"/>
            <ComboBox fx:id="cmbProveedor" promptText="Seleccione un proveedor..." maxWidth="Infinity"/>

            <HBox spacing="5">
                <VBox HBox.hgrow="ALWAYS">
                    <Label text="Costo:" textFill="grey"/>
                    <TextField fx:id="txtCosto" promptText="0.00"/>
                </VBox>
                <VBox HBox.hgrow="ALWAYS">
                    <Label text="Venta:" textFill="green"/>
                    <TextField fx:id="txtPrecio" promptText="0.00"/>
                </VBox>
            </HBox>

            <HBox spacing="5">
                <VBox HBox.hgrow="ALWAYS">
                    <Label text="Stock Actual:"/>
                    <TextField fx:id="txtStock" promptText="0"/>
                </VBox>
                <VBox HBox.hgrow="ALWAYS">
                    <Label text="Mínimo (Alerta):" textFill="red"/>
                    <TextField fx:id="txtMinimo" promptText="5"/>
                </VBox>
            </HBox>

            <HBox spacing="10" alignment="CENTER" style="-fx-padding: 15 0 0 0;">
                <Button text="Guardar" fx:id="btnGuardar" onAction="#guardarProducto" style="-fx-background-color: #2ecc71; -fx-text-fill: white;"/>
                <Button text="Eliminar" fx:id="btnEliminar" onAction="#eliminarProducto" style="-fx-background-color: #e74c3c; -fx-text-fill: white;" disable="true"/>
                <Button text="Limpiar" onAction="#limpiarFormulario"/>
            </HBox>
        </VBox>
    </right>
</BorderPane>